window.ComfinoPaywallInit={init:()=>{const d=document.getElementById("comfino-iframe-container");if(null!==d.querySelector("#comfino-paywall-container"))ComfinoPaywallFrontend.logEvent("Comfino paywall iframe already initialized.","info",d);else{ComfinoPaywallData.paywallOptions.onUpdateOrderPaymentState=a=>{ComfinoPaywallFrontend.logEvent("updateOrderPaymentState PrestaShop","debug",a);const h=new URL(ComfinoPaywallData.paywallStateUrl),f=new FormData;a={loan_amount:a.loanAmount,loan_type:a.loanType,
loan_term:a.loanTerm};for(let b in a)f.append(b,a[b]);const g=h.toString();fetch(g,{method:"POST",body:f}).then(b=>{ComfinoPaywallFrontend.logEvent("updateOrderPaymentState PrestaShop","debug",g,b)})};var c=ComfinoPaywallFrontend.createPaywallIframe(ComfinoPaywallData.paywallUrl,ComfinoPaywallData.paywallOptions),e=document.getElementById("pay-with-comfino")??document.querySelector('input[data-module-name^="comfino"]');if("priceModifier"in e.dataset){let a=parseInt(e.dataset.priceModifier);Number.isNaN(a)||
(c.src+="&priceModifier="+a)}d.appendChild(c);ComfinoPaywallFrontend.init(e,c,ComfinoPaywallData.paywallOptions)}}};"complete"===document.readyState?ComfinoPaywallInit.init():document.addEventListener("readystatechange",()=>{"complete"===document.readyState&&ComfinoPaywallInit.init()});
