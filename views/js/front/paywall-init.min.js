/*
 Since 2007 PrestaShop SA and Contributors
 @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)
*/
window.ComfinoPaywallInit={init:()=>{const e=document.getElementById("comfino-iframe-container");if(null!==e.querySelector("#comfino-paywall-container"))ComfinoPaywallFrontend.logEvent("Comfino paywall iframe already initialized.","info",e);else{var c=ComfinoPaywallFrontend.createPaywallIframe(ComfinoPaywallData.paywallUrl,ComfinoPaywallData.paywallOptions),f=document.getElementById("pay-with-comfino")??document.querySelector('input[data-module-name^="comfino"]'),b=0;"priceModifier"in f.dataset&&
(b=parseInt(f.dataset.priceModifier),Number.isNaN(b)?b=0:c.src+="&priceModifier="+b);ComfinoPaywallData.paywallOptions.onUpdateOrderPaymentState=a=>{ComfinoPaywallFrontend.logEvent("updateOrderPaymentState PrestaShop","debug",a);const k=new URL(ComfinoPaywallData.paywallStateUrl),g=new FormData;a={loan_amount:a.loanAmount,loan_type:a.loanType,loan_term:a.loanTerm,price_modifier:b};for(let d in a)g.append(d,a[d]);const h=k.toString();fetch(h,{method:"POST",body:g}).then(d=>{ComfinoPaywallFrontend.logEvent("updateOrderPaymentState PrestaShop",
"debug",h,d)})};e.appendChild(c);ComfinoPaywallFrontend.init(f,c,ComfinoPaywallData.paywallOptions)}}};"complete"===document.readyState?ComfinoPaywallInit.init():document.addEventListener("readystatechange",()=>{"complete"===document.readyState&&ComfinoPaywallInit.init()});
