/*
 Since 2007 PrestaShop SA and Contributors
 @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)
*/
window.ComfinoPaywallInit={init:()=>{const c=document.getElementById("comfino-iframe-container");if(null==c)ComfinoPaywallFrontend.logEvent("Comfino paywall iframe container not found.","warning");else if(null!==c.querySelector("#comfino-paywall-container"))ComfinoPaywallFrontend.logEvent("Comfino paywall iframe already initialized.","info",c);else{var d=ComfinoPaywallFrontend.createPaywallIframe(ComfinoPaywallData.paywallUrl,ComfinoPaywallData.paywallOptions),f=document.getElementById("pay-with-comfino")??
document.querySelector('input[data-module-name^="comfino"]'),b=0;"priceModifier"in f.dataset&&(b=parseInt(f.dataset.priceModifier),Number.isNaN(b)?b=0:d.src+="&priceModifier="+b);ComfinoPaywallData.paywallOptions.onUpdateOrderPaymentState=a=>{ComfinoPaywallFrontend.logEvent("updateOrderPaymentState PrestaShop","debug",a);const k=new URL(ComfinoPaywallData.paywallStateUrl),g=new FormData;a={loan_amount:a.loanAmount,loan_type:a.loanType,loan_term:a.loanTerm,price_modifier:b};for(let e in a)g.append(e,
a[e]);const h=k.toString();fetch(h,{method:"POST",body:g}).then(e=>{ComfinoPaywallFrontend.logEvent("updateOrderPaymentState PrestaShop","debug",h,e)})};c.appendChild(d);ComfinoPaywallFrontend.init(f,d,ComfinoPaywallData.paywallOptions)}}};"complete"===document.readyState?ComfinoPaywallInit.init():document.addEventListener("readystatechange",()=>{"complete"===document.readyState&&ComfinoPaywallInit.init()});
